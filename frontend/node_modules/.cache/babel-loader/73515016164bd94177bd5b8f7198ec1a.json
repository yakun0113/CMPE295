{"remainingRequest":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/babel-loader/lib/index.js!/Users/katyjiang/katy/CMPE295/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/katyjiang/katy/CMPE295/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/katyjiang/katy/CMPE295/frontend/src/components/Account.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/katyjiang/katy/CMPE295/frontend/src/components/Account.vue","mtime":1636672427993},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1632981160587}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2thdHlqaWFuZy9rYXR5L0NNUEUyOTUvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5ld1Bhc3N3b3JkOiAiIiwKICAgICAgY29uZmlybVBhc3N3b3JkOiAiIiwKICAgICAgY3VycmVudFBhc3N3b3JkOiAiIiwKICAgICAgdXNlck5hbWU6ICIiLAogICAgICB1c2VyRGF0YTogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyd1c2VyJ10pKSwge30sIHsKICAgIGdldFVzZXI6IGZ1bmN0aW9uIGdldFVzZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLnVzZXI7CiAgICB9CiAgfSksCiAgbWV0aG9kczogewogICAgdXBkYXRlQWNjb3VudDogZnVuY3Rpb24gdXBkYXRlQWNjb3VudCgpIHsKICAgICAgaWYgKHRoaXMudXNlck5hbWUgPT09ICIiKSB7CiAgICAgICAgdGhpcy51c2VyTmFtZSA9IHRoaXMuZ2V0VXNlci5uYW1lOwogICAgICB9CgogICAgICBpZiAodGhpcy5uZXdQYXNzd29yZCA9PT0gIiIgJiYgdGhpcy5jb25maXJtUGFzc3dvcmQgIT0gIiIpIHsKICAgICAgICB3aW5kb3cuYWxlcnQoIlBsZWFzZSBlbnRlciBhIG5ldyBwYXNzd29yZCIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMubmV3UGFzc3dvcmQgIT0gIiIgJiYgdGhpcy5jb25maXJtUGFzc3dvcmQgPT09ICIiKSB7CiAgICAgICAgd2luZG93LmFsZXJ0KCJQbGVhc2UgY29uZmlybSB5b3VyIG5ldyBwYXNzd29yZCIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMubmV3UGFzc3dvcmQgIT0gdGhpcy5jb25maXJtUGFzc3dvcmQpIHsKICAgICAgICB3aW5kb3cuYWxlcnQoIkNvbmZpcm1hdGlvbiBkb2Vzbid0IG1hdGNoIHdpdGggbmV3IHBhc3N3b3JkIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5jdXJyZW50UGFzc3dvcmQgPT09ICIiKSB7CiAgICAgICAgd2luZG93LmFsZXJ0KCJFbnRlciBjdXJyZW50IHBhc3N3b3JkIGJlZm9yZSB1cGRhdGluZyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMubmV3UGFzc3dvcmQgPT09ICIiKSB7CiAgICAgICAgdGhpcy51c2VyRGF0YSA9IHsKICAgICAgICAgICJuZXdOYW1lIjogdGhpcy51c2VyTmFtZSwKICAgICAgICAgICJjdXJyZW50UGFzc3dvcmQiOiB0aGlzLmN1cnJlbnRQYXNzd29yZAogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51c2VyRGF0YSA9IHsKICAgICAgICAgICJuZXdOYW1lIjogdGhpcy51c2VyTmFtZSwKICAgICAgICAgICJjdXJyZW50UGFzc3dvcmQiOiB0aGlzLmN1cnJlbnRQYXNzd29yZCwKICAgICAgICAgICJuZXdQYXNzd29yZCI6IHRoaXMubmV3UGFzc3dvcmQKICAgICAgICB9OwogICAgICB9CgogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAiUFVUIiwKICAgICAgICB1cmw6ICJodHRwczovL2xvY2FsaG9zdDo4MDAwL3VzZXJzLyIgKyB0aGlzLmdldFVzZXIudXNlcl9pZCwKICAgICAgICBkYXRhOiB0aGlzLnVzZXJEYXRhLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAidG9rZW4iOiB0aGlzLmdldFVzZXIudG9rZW4KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgd2luZG93LmFsZXJ0KHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHdpbmRvdy5hbGVydChlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlQWNjb3VudDogZnVuY3Rpb24gZGVsZXRlQWNjb3VudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChjb25maXJtKCJEbyB5b3UgcmVhbGx5IHdhbnQgdG8gZGVsZXRlPyIpKSB7CiAgICAgICAgYXhpb3MoewogICAgICAgICAgbWV0aG9kOiAiREVMRVRFIiwKICAgICAgICAgIHVybDogImh0dHBzOi8vbG9jYWxob3N0OjgwMDAvdXNlcnMvIiArIHRoaXMuZ2V0VXNlci51c2VyX2lkLAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAidG9rZW4iOiB0aGlzLmdldFVzZXIudG9rZW4KICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgd2luZG93LmFsZXJ0KHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7CgogICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzaWduT3V0Jyk7CgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICB3aW5kb3cuYWxlcnQoZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/katyjiang/katy/CMPE295/frontend/src/components/Account.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class='account-wrapper'>\n      <h1>My account</h1>\n      <h3>Name:</h3>\n      <input type=\"name\" v-model=\"userName\" :placeholder=\"getUser.name\"/>\n      <h3>Email:</h3>\n      <h5>{{getUser.email}}</h5>\n      <h3>New password:</h3>\n      <input type=\"password\" v-model=\"newPassword\" placeholder= \"Enter new password\"/>\n      <h3>Confirm new password:</h3>\n      <input type=\"password\" v-model=\"confirmPassword\" placeholder= \"Confirm new password\"/>\n      <h3>Current password: </h3>\n      <input type=\"password\" v-model=\"currentPassword\" placeholder= \"Enter current password\"/>\n      <div><button class=\"sm\" @click=\"updateAccount\">Update Account</button></div>\n      <div><button class=\"sm\" @click=\"deleteAccount\">Delete Account</button></div>           \n    </div> \n  </div>\n</template>\n\n<script>\nimport {mapGetters} from 'vuex'\nimport axios from 'axios';\n\nexport default {\n  data(){\n    \n    return{\n        newPassword: \"\",\n        confirmPassword: \"\",\n        currentPassword: \"\",\n        userName: \"\",\n        userData: null,\n\n    } },\n  computed: {\n  ...mapGetters(['user']),\n  \n    getUser(){\n      return this.user\n    },\n  },\n  methods: {\n  \n    updateAccount(){\n\n      if (this.userName === \"\"){\n        this.userName = this.getUser.name\n      }\n      if(this.newPassword === \"\" && this.confirmPassword != \"\"){\n          window.alert(\"Please enter a new password\")\n          return\n      }\n\n      if(this.newPassword != \"\" && this.confirmPassword === \"\"){\n        window.alert(\"Please confirm your new password\")\n        return\n      }\n      if(this.newPassword != this.confirmPassword){\n        window.alert(\"Confirmation doesn't match with new password\")\n        return\n      }\n\n      if (this.currentPassword === \"\"){\n        window.alert(\"Enter current password before updating\")\n        return\n      }\n\n      if (this.newPassword === \"\"){\n         this.userData = {\n          \"newName\": this.userName,\n          \"currentPassword\": this.currentPassword,\n          }\n      }\n      else{\n          this.userData = {\n          \"newName\": this.userName,\n          \"currentPassword\": this.currentPassword,\n          \"newPassword\": this.newPassword\n          }\n      }\n        axios({ method: \"PUT\", url: \"https://localhost:8000/users/\" + this.getUser.user_id, data: this.userData, headers: {\"content-type\": \"application/json\", \"token\":this.getUser.token } })\n            .then((response)=> {\n              window.alert(response.data.message)                  \n                  })\n            .catch((error) => {\n                  window.alert(error.response.data.error);\n}\n            )\n    },\n\n    deleteAccount(){\n       if(confirm(\"Do you really want to delete?\")){\n           axios({ method: \"DELETE\", url: \"https://localhost:8000/users/\" + this.getUser.user_id, headers: {\"content-type\": \"application/json\", \"token\":this.getUser.token } })\n            .then((response)=> {\n              window.alert(response.data.message)     \n              this.$store.dispatch('signOut');\n              this.$router.push('/')             \n                  \n                  })\n            .catch((error) => {\n                  window.alert(error.response.data.error);\n}\n            )\n    }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.account-wrapper {\n    position: relative;\n    margin-top: 100px;\n    input {\n      padding: 3px;\n      width: 200px;\n      height: 25px;\n      color: rgba(0,0,0,.70);\n      border: 1px solid rgba(0,0,0,.12);\n      transition: .15s all ease-in-out;\n      background: white;\n        margin:0.1rem;\n      &::placeholder{\n        font-size: 11px;\n        color: rgba(10, 10, 10, 0.5);\n        font-weight: 600;\n        font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n      }\n    }\n   \n  }\n\n\n  .sm{\n    position: relative;\n    top:10px;\n    border: 0;\n    cursor: pointer;\n    box-sizing: border-box;\n    border-radius: 3px;\n    color: white;\n    background-color: rgb(124, 168, 107);\n    font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n}\n</style>"],"sourceRoot":""}]}