{"remainingRequest":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/babel-loader/lib/index.js!/Users/katyjiang/katy/CMPE295/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/katyjiang/katy/CMPE295/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/katyjiang/katy/CMPE295/frontend/src/components/SignIn.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/katyjiang/katy/CMPE295/frontend/src/components/SignIn.vue","mtime":1635540418018},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1632981160587}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2thdHlqaWFuZy9rYXR5L0NNUEUyOTUvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2lnbkluJywKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVnaXN0ZXJBY3RpdmU6IGZhbHNlLAogICAgICBlbWFpbExvZ2luOiAiIiwKICAgICAgcGFzc3dvcmRMb2dpbjogIiIsCiAgICAgIGVtYWlsUmVnOiAiIiwKICAgICAgbmFtZVJlZzogIiIsCiAgICAgIHBhc3N3b3JkUmVnOiAiIiwKICAgICAgY29uZmlybVJlZzogIiIsCiAgICAgIGVtcHR5RmllbGRzOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydzaWduSW4nXSkpLCB7fSwgewogICAgZG9Mb2dpbjogZnVuY3Rpb24gZG9Mb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmVtYWlsTG9naW4gPT09ICIiIHx8IHRoaXMucGFzc3dvcmRMb2dpbiA9PT0gIiIpIHsKICAgICAgICB0aGlzLmVtcHR5RmllbGRzID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB1c2VyRGF0YSA9IHsKICAgICAgICAiZW1haWwiOiB0aGlzLmVtYWlsTG9naW4sCiAgICAgICAgInBhc3N3b3JkIjogdGhpcy5wYXNzd29yZExvZ2luCiAgICAgIH07CiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICB1cmw6ICJodHRwczovL2xvY2FsaG9zdDo4MDgwL2hhbmRsZVNpZ25JbiIsCiAgICAgICAgZGF0YTogdXNlckRhdGEsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB3aW5kb3cuYWxlcnQocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZSA9PT0gIldyb25nIHBhc3N3b3JkISIpIHsKICAgICAgICAgIF90aGlzLnBhc3N3b3JkTG9naW4gPSAiIjsKICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZSA9PT0gIkFjY291bnQgbm90IHJlZ2lzdGVyZWQhIikgewogICAgICAgICAgX3RoaXMuZW1haWxMb2dpbiA9ICIiOwogICAgICAgICAgX3RoaXMucGFzc3dvcmRMb2dpbiA9ICIiOwogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlID09PSAiU29tZXRoaW5nJ3Mgd3JvbmcsIHBsZWFzZSB0cnkgYWdhaW4hIikgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NpZ25JbicsIF90aGlzLmVtYWlsTG9naW4pOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdob21lJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICB3aW5kb3cuYWxlcnQoIlRoZSBBUEkgcmV0dXJuZWQgYW4gZXJyb3I6ICIuY29uY2F0KGVycm9yLmRhdGEpKTsKICAgICAgfSk7CiAgICB9LAogICAgZG9SZWdpc3RlcjogZnVuY3Rpb24gZG9SZWdpc3RlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5uYW1lUmVnID09PSAiIiB8fCB0aGlzLmVtYWlsUmVnID09PSAiIiB8fCB0aGlzLnBhc3N3b3JkUmVnID09PSAiIiB8fCB0aGlzLmNvbmZpcm1SZWcgPT09ICIiKSB7CiAgICAgICAgd2luZG93LmFsZXJ0KCJQbGVhc2UgZmlsbCBpbiBhbGwgZmllbGRzISIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucGFzc3dvcmRSZWcgIT0gdGhpcy5jb25maXJtUmVnKSB7CiAgICAgICAgd2luZG93LmFsZXJ0KCJQbGVhc2UgY29uZmlybSB5b3VyIHBhc3N3b3JkIGFnYWluISIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHVzZXJEYXRhID0gewogICAgICAgICJuYW1lIjogdGhpcy5uYW1lUmVnLAogICAgICAgICJlbWFpbCI6IHRoaXMuZW1haWxSZWcsCiAgICAgICAgInBhc3N3b3JkIjogdGhpcy5wYXNzd29yZFJlZywKICAgICAgICAid2F0Y2hsaXN0IjogW10KICAgICAgfTsKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgIHVybDogImh0dHBzOi8vbG9jYWxob3N0OjgwODAvaGFuZGxlU2lnblVwIiwKICAgICAgICBkYXRhOiB1c2VyRGF0YSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHdpbmRvdy5hbGVydChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlID09PSAiU2lnbmVkIHVwIHN1Y2Nlc3NmdWxseSEiKSB7CiAgICAgICAgICBfdGhpczIucmVnaXN0ZXJBY3RpdmUgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMi5lbWFpbFJlZyA9ICIiOwogICAgICAgICAgX3RoaXMyLm5hbWVSZWcgPSAiIjsKICAgICAgICAgIF90aGlzMi5wYXNzd29yZFJlZyA9ICIiOwogICAgICAgICAgX3RoaXMyLmNvbmZpcm1SZWcgPSAiIjsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHdpbmRvdy5hbGVydCgiVGhlIEFQSSByZXR1cm5lZCBhbiBlcnJvcjogIi5jb25jYXQoZXJyb3IuZGF0YSkpOwogICAgICB9KTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["/Users/katyjiang/katy/CMPE295/frontend/src/components/SignIn.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"app\">\n   <div class=\"login-page\">\n      <transition name=\"fade\">\n         <div v-if=\"!registerActive\" class=\"wallpaper-login\"></div>\n      </transition>\n      <div class=\"wallpaper-register\"></div>\n\n      <div class=\"container\">\n         <div class=\"row\">\n            <div class=\"col-lg-4 col-md-6 col-sm-8 mx-auto\">\n               <div v-if=\"!registerActive\" class=\"card login\" v-bind:class=\"{ error: emptyFields }\">\n                  <h1>Sign In</h1>\n                  <form class=\"form-group\">\n                     <input v-model=\"emailLogin\" type=\"email\" class=\"form-control\" placeholder=\"Email\" required>\n                     <input v-model=\"passwordLogin\" type=\"password\" class=\"form-control\" placeholder=\"Password\" required>\n                     <input type=\"submit\" class=\"btn btn-primary\" @click.prevent=\"doLogin\">\n                     <p>Don't have an account? <a href=\"#\" @click=\"registerActive = !registerActive, emptyFields = false\">Sign up here</a>\n                     </p>\n                     <p><a href=\"#\">Forgot your password?</a></p>\n                  </form>\n               </div>\n\n               <div v-else class=\"card register\">\n                  <h1>Sign Up</h1>\n                  <form class=\"form-group\">\n                     <input v-model=\"emailReg\" type=\"email\" class=\"form-control\" placeholder=\"Email\" required>\n                     <input v-model=\"nameReg\" type=\"name\" class=\"form-control\" placeholder=\"Name\" required>\n                     <input v-model=\"passwordReg\" type=\"password\" class=\"form-control\" placeholder=\"Password\" required>\n                     <input v-model=\"confirmReg\" type=\"password\" class=\"form-control\" placeholder=\"Confirm Password\" required>\n                     <input type=\"submit\" class=\"btn btn-primary\" @click.prevent=\"doRegister\">\n                     <p>Already have an account? <a href=\"#\" @click=\"registerActive = !registerActive\">Sign in here</a>\n                     </p>\n                  </form>\n               </div>\n            </div>\n         </div>\n\n      </div>\n   </div>\n</div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { mapActions } from 'vuex'\n\n\nexport default {\n  name: 'SignIn',\n  components: {\n    \n  },\n  data() {\n    return {\n      registerActive: false,\n      emailLogin: \"\",\n      passwordLogin: \"\",\n      emailReg: \"\",\n      nameReg: \"\",\n      passwordReg: \"\",\n      confirmReg: \"\",\n      emptyFields: false,\n    }\n  },\n  computed:{\n  },\n\n  methods: {\n   ...mapActions([ 'signIn' ]),\n\n    doLogin() {\n       \n         if (this.emailLogin === \"\" || this.passwordLogin === \"\") {\n            this.emptyFields = true;\n            return\n         } \n         var userData = {\n                \"email\": this.emailLogin,\n                \"password\": this.passwordLogin,\n            }\n            axios({ method: \"POST\", url: \"https://localhost:8080/handleSignIn\", data: userData, headers: {\"content-type\": \"application/json\" } })\n            .then((response)=> {\n                  window.alert(response.data.message);\n\n                  if (response.data.message === \"Wrong password!\"){\n                     this.passwordLogin = \"\";\n                     }\n                  else if (response.data.message === \"Account not registered!\"){\n                     this.emailLogin = \"\";\n                     this.passwordLogin = \"\";\n                  }\n                  else if (response.data.message === \"Something's wrong, please try again!\"){\n                     return\n                  }\n                  else{\n                     this.$store.dispatch('signIn',this.emailLogin);\n                     this.$router.push({name:'home'})\n                  \n                  }\n\n\n               })\n               .catch((error) => {\n                window.alert(`The API returned an error: ${error.data}`);\n            })\n         \n         }\n      ,\n      \n      doRegister() {\n         if (this.nameReg === \"\" || this.emailReg === \"\" || this.passwordReg === \"\" || this.confirmReg === \"\") {\n            window.alert(\"Please fill in all fields!\")\n            return\n         } \n         if (this.passwordReg != this.confirmReg){\n            window.alert(\"Please confirm your password again!\");\n            return\n         }\n         \n         var userData = {\n                \"name\": this.nameReg,\n                \"email\": this.emailReg,\n                \"password\": this.passwordReg,\n                \"watchlist\": [],\n            }\n            axios({ method: \"POST\", url: \"https://localhost:8080/handleSignUp\", data: userData, headers: {\"content-type\": \"application/json\" } })\n            .then((response)=> {\n                  window.alert(response.data.message);\n                  if (response.data.message === \"Signed up successfully!\"){\n                     this.registerActive = false;\n                     this.emailReg = \"\";\n                     this.nameReg = \"\";\n                     this.passwordReg = \"\";\n                     this.confirmReg = \"\";\n                     }\n               })\n               .catch((error) => {\n                window.alert(`The API returned an error: ${error.data}`);\n            })\n   \n  }\n  }\n}\n\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\np {\n   line-height: 1rem;\n}\n\n.card {\n    margin:auto;\n    margin-top:200px;\n}\n\n.form-group {\n   input {\n      margin-bottom: 20px;\n   }\n}\n\n.login-page {\n   \n   \n   .fade-enter-active,\n   .fade-leave-active {\n  transition: opacity .5s;\n}\n   .fade-enter,\n   .fade-leave-to {\n      opacity: 0;\n   }\n   \n   .wallpaper-register {\n      \n      height: 100%;\n      position: flex;\n      width: 100%;\n      z-index: -1;\n   }\n\n   h1 {\n      margin-bottom: 1.5rem;\n   }\n}\n\n.error {\n   animation-name: errorShake;\n   animation-duration: 0.3s;\n}\n\n@keyframes errorShake {\n   0% {\n      transform: translateX(-25px);\n   }\n   25% {\n      transform: translateX(25px);\n   }\n   50% {\n      transform: translateX(-25px);\n   }\n   75% {\n      transform: translateX(25px);\n   }\n   100% {\n      transform: translateX(0);\n   }\n}\n</style>\n"],"sourceRoot":""}]}