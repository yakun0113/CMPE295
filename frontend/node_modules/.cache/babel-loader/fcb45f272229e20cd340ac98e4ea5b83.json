{"remainingRequest":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/babel-loader/lib/index.js!/Users/katyjiang/katy/CMPE295/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/katyjiang/katy/CMPE295/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/katyjiang/katy/CMPE295/frontend/src/components/product/ProductItem.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/katyjiang/katy/CMPE295/frontend/src/components/product/ProductItem.vue","mtime":1636672427994},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1632981160587}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2thdHlqaWFuZy9rYXR5L0NNUEUyOTUvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubGluay5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbJ2l0ZW0nLCAnYnV0dG9uJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7Ly9pbWFnZTogdGhpcy5pdGVtLmltYWdlLAogICAgICAvL2xpbms6IHRoaXMuaXRlbS5saW5rLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyd1c2VyJywgJ2xvZ2dlZCcsICd3YXRjaGxpc3QnXSkpLCB7fSwgewogICAgd2F0Y2hMaXN0OiBmdW5jdGlvbiB3YXRjaExpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLndhdGNobGlzdC5zbGljZSh0aGlzLndhdGNobGlzdF9pbmRleCwgdGhpcy53YXRjaGxpc3RfaW5kZXggKyA2KTsKICAgIH0sCiAgICBnZXRVc2VyOiBmdW5jdGlvbiBnZXRVc2VyKCkgewogICAgICByZXR1cm4gdGhpcy51c2VyOwogICAgfSwKICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oKSB7CiAgICAgIHJldHVybiB0aGlzLmxvZ2dlZDsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICAvL2dvVG9PcmlnaW4oKXsKICAgIC8vICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGhpcy5pdGVtLmxpbms7CiAgICAvL30sCiAgICBhZGRUb1dhdGNobGlzdDogZnVuY3Rpb24gYWRkVG9XYXRjaGxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAiaW1hZ2UiOiB0aGlzLml0ZW0uaW1hZ2UsCiAgICAgICAgIm5hbWUiOiB0aGlzLml0ZW0ubmFtZSwKICAgICAgICAicHJpY2UiOiB0aGlzLml0ZW0ucHJpY2UsCiAgICAgICAgInJhdGluZyI6IHRoaXMuaXRlbS5yYXRpbmcsCiAgICAgICAgImxpbmsiOiB0aGlzLml0ZW0ubGluawogICAgICB9OwogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgdXJsOiAiaHR0cHM6Ly9sb2NhbGhvc3Q6ODAwMC91c2Vycy93YXRjaGxpc3QvIiArIHRoaXMuZ2V0VXNlci51c2VyX2lkLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICJ0b2tlbiI6IHRoaXMuZ2V0VXNlci50b2tlbgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy4kdG9hc3Quc2hvdyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwoKICAgICAgICBzZXRUaW1lb3V0KF90aGlzLiR0b2FzdC5jbGVhciwgMjAwMCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHdpbmRvdy5hbGVydChlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlRnJvbVdhdGNobGlzdDogZnVuY3Rpb24gcmVtb3ZlRnJvbVdhdGNobGlzdChpdGVtKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogIkRFTEVURSIsCiAgICAgICAgdXJsOiAiaHR0cHM6Ly9sb2NhbGhvc3Q6ODAwMC91c2Vycy93YXRjaGxpc3QvIiArIHRoaXMuZ2V0VXNlci51c2VyX2lkICsgIi8iICsgaXRlbS5pdGVtX2lkLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAidG9rZW4iOiB0aGlzLmdldFVzZXIudG9rZW4KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGpzb24gPSByZXNwb25zZS5kYXRhLnJlc3VsdDsKCiAgICAgICAgX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgnc2V0V2F0Y2hsaXN0JywganNvbik7CgogICAgICAgIF90aGlzMi4kdG9hc3Quc2hvdyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwoKICAgICAgICBzZXRUaW1lb3V0KF90aGlzMi4kdG9hc3QuY2xlYXIsIDIwMDApOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICB3aW5kb3cuYWxlcnQoZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/katyjiang/katy/CMPE295/frontend/src/components/product/ProductItem.vue"],"names":[],"mappings":";;;;AAaA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,UAAT,QAA2B,MAA3B;AACA,eAAe;AACX,EAAA,KAAK,EAAE,CAAE,MAAF,EAAU,QAAV,CADI;AAEX,EAAA,IAFW,kBAEL;AACF,WAAM,CACF;AACA;AAFE,KAAN;AAIH,GAPU;AAQb,EAAA,QAAQ,kCACF,UAAU,CAAC,CAAC,MAAD,EAAQ,QAAR,EAAiB,WAAjB,CAAD,CADR;AAGL,IAAA,SAHK,uBAGO;AACL,aAAO,KAAK,SAAL,CAAe,KAAf,CAAqB,KAAK,eAA1B,EAA2C,KAAK,eAAL,GAAuB,CAAlE,CAAP;AACH,KALC;AAMN,IAAA,OANM,qBAMG;AACL,aAAO,KAAK,IAAZ;AACH,KARK;AASN,IAAA,UATM,wBASM;AACV,aAAO,KAAK,MAAZ;AACF;AAXM,IARK;AAsBb,EAAA,OAAO,EAAE;AACL;AACA;AACA;AACA,IAAA,cAJK,4BAIW;AAAA;;AACX,UAAI,IAAG,GAAI;AACP,iBAAS,KAAK,IAAL,CAAU,KADZ;AAEP,gBAAQ,KAAK,IAAL,CAAU,IAFX;AAGP,iBAAS,KAAK,IAAL,CAAU,KAHZ;AAIP,kBAAU,KAAK,IAAL,CAAU,MAJb;AAKP,gBAAQ,KAAK,IAAL,CAAU;AALX,OAAX;AAOA,MAAA,KAAK,CAAC;AAAE,QAAA,MAAM,EAAE,MAAV;AAAkB,QAAA,GAAG,EAAE,4CAA2C,KAAK,OAAL,CAAa,OAA/E;AAAwF,QAAA,IAAI,EAAE,IAA9F;AAAoG,QAAA,OAAO,EAAE;AAAC,0BAAgB,kBAAjB;AAAqC,mBAAQ,KAAK,OAAL,CAAa;AAA1D;AAA7G,OAAD,CAAL,CACE,IADF,CACO,UAAC,QAAD,EAAc;AAChB,QAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,QAAQ,CAAC,IAAT,CAAc,OAA/B;;AACA,QAAA,UAAU,CAAC,KAAI,CAAC,MAAL,CAAY,KAAb,EAAmB,IAAnB,CAAV;AACH,OAJF,EAKE,KALF,CAKQ,UAAC,KAAD,EAAW;AACZ,QAAA,MAAM,CAAC,KAAP,CAAa,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,KAAjC;AACL,OAPF;AAQJ,KApBI;AAqBL,IAAA,mBArBK,+BAqBe,IArBf,EAqBoB;AAAA;;AACpB,MAAA,KAAK,CAAC;AAAE,QAAA,MAAM,EAAE,QAAV;AAAoB,QAAA,GAAG,EAAE,4CAA4C,KAAK,OAAL,CAAa,OAAzD,GAAmE,GAAnE,GAAyE,IAAI,CAAC,OAAvG;AAAgH,QAAA,OAAO,EAAE;AAAC,0BAAgB,kBAAjB;AAAqC,mBAAQ,KAAK,OAAL,CAAa;AAA1D;AAAzH,OAAD,CAAL,CACE,IADF,CACO,UAAC,QAAD,EAAc;AAChB,YAAM,IAAG,GAAI,QAAQ,CAAC,IAAT,CAAc,MAA3B;;AACA,QAAA,MAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,cAArB,EAAoC,IAApC;;AACA,QAAA,MAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,QAAQ,CAAC,IAAT,CAAc,OAA/B;;AACA,QAAA,UAAU,CAAC,MAAI,CAAC,MAAL,CAAY,KAAb,EAAmB,IAAnB,CAAV;AACH,OANF,EAOE,KAPF,CAOQ,UAAC,KAAD,EAAW;AACZ,QAAA,MAAM,CAAC,KAAP,CAAa,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,KAAjC;AACL,OATF;AAUT;AAhCS;AAtBI,CAAf","sourcesContent":["<template>\n  <div class=\"card\">\n      <h3>{{item.name}}</h3>\n      <img class=\"image\" :src=\"item.image\" />\n      <h5 class=\"price\">{{item.price}}</h5>\n      <p class=\"description\">{{item.rating}}</p>\n      <a :href=\"item.link\">Learn More</a>\n  <div><button v-if=\"isLoggedIn && (button==='Add')\" class=\"add\" @click.prevent=\"addToWatchlist\">Add to watchlist</button></div>\n  <div><button v-if=\"isLoggedIn && (button==='Delete')\" class=\"delete\" @click.prevent=\"removeFromWatchlist(item)\">Remove from watchlist</button></div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { mapGetters } from 'vuex'\nexport default {\n    props: [ 'item', 'button' ],\n    data(){\n        return{\n            //image: this.item.image,\n            //link: this.item.link,\n        }\n    },\n  computed: {\n     ...mapGetters(['user','logged','watchlist']),\n     \n     watchList() {\n            return this.watchlist.slice(this.watchlist_index, this.watchlist_index + 6)\n        },\n    getUser(){\n        return this.user    \n    },\n    isLoggedIn(){\n      return this.logged\n    }\n      \n  },\n  methods: {\n      //goToOrigin(){\n      //    window.location.href = this.item.link;\n      //},\n      addToWatchlist(){\n           var data = {\n               \"image\": this.item.image,\n               \"name\": this.item.name,\n               \"price\": this.item.price,\n               \"rating\": this.item.rating,\n               \"link\": this.item.link,\n           }\n           axios({ method: \"POST\", url: \"https://localhost:8000/users/watchlist/\"+ this.getUser.user_id, data: data, headers: {\"content-type\": \"application/json\", \"token\":this.getUser.token } })\n            .then((response) => {\n                this.$toast.show(response.data.message);\n                setTimeout(this.$toast.clear,2000)\n            })\n            .catch((error) => {\n                  window.alert(error.response.data.error);\n            })\n      },\n      removeFromWatchlist(item){\n           axios({ method: \"DELETE\", url: \"https://localhost:8000/users/watchlist/\" + this.getUser.user_id + \"/\" + item.item_id, headers: {\"content-type\": \"application/json\", \"token\":this.getUser.token } })\n            .then((response) => {\n                const json = response.data.result;\n                this.$store.dispatch('setWatchlist',json);\n                this.$toast.show(response.data.message);\n                setTimeout(this.$toast.clear,2000)\n            })\n            .catch((error) => {\n                  window.alert(error.response.data.error);\n            })\n  }\n}\n}\n</script>\n\n<style lang=\"scss\">\nh3 {\n  text-align: center;\n  color: black;\n}\n    .card{\n        width: 80%;\n        margin: 10%;\n        padding: 10px;\n        border-radius: 5px;\n        background-color: white;\n        box-shadow: 0 0 5px grey;\n\n        h5.price{\n            color: grey;\n        }\n\n        p.description {\n            font-size: .85rem;\n            padding: 10px;\n        }\n        button {\n           width: 250px;\n           padding-bottom: 10px;\n           margin-top: 29px;\n        }\n       \n        button.text-muted {\n            color: white;\n            background-color: grey;\n        }\n        \n    }\n    h4.test-detail-button {\n            padding: 10px;\n            color: rgb(46, 126, 153);\n            font-weight: bold;\n            font-size: 1.15rem;    \n            cursor: pointer;\n        }\n\n    @media (min-width: 500px) {\n        .card {\n            width: 350px;\n            margin: 10px;\n        }\n    }\n    .image{\n        z-index:0;\n        width:80px;\n        height:80px;\n    }\n.add{\n    border: 0;\n    cursor: pointer;\n    box-sizing: border-box;\n    border-radius: 3px;\n    color: white;\n    background-color: rgb(124, 168, 107);\n    font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n}\n\n.delete{\n    border: 0;\n    cursor: pointer;\n    box-sizing: border-box;\n    border-radius: 3px;\n    color: white;\n    background-color:rgb(187, 17, 11);\n    font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n}\n\n</style>"],"sourceRoot":""}]}