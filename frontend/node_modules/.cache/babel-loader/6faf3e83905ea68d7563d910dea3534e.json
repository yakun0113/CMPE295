{"remainingRequest":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/babel-loader/lib/index.js!/Users/katyjiang/katy/CMPE295/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/katyjiang/katy/CMPE295/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/katyjiang/katy/CMPE295/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/katyjiang/katy/CMPE295/frontend/src/components/Account.vue?vue&type=template&id=6d0444a6&scoped=true","dependencies":[{"path":"/Users/katyjiang/katy/CMPE295/frontend/src/components/Account.vue","mtime":1636672427993},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1632981160588},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1632981160587}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhTY29wZUlkID0gZnVuY3Rpb24gX3dpdGhTY29wZUlkKG4pIHsKICByZXR1cm4gX3B1c2hTY29wZUlkKCJkYXRhLXYtNmQwNDQ0YTYiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbjsKfTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiY29udGFpbmVyIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImFjY291bnQtd3JhcHBlciIKfTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMSIsIG51bGwsICJNeSBhY2NvdW50IiwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDMiLCBudWxsLCAiTmFtZToiLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCnZhciBfaG9pc3RlZF81ID0gWyJwbGFjZWhvbGRlciJdOwoKdmFyIF9ob2lzdGVkXzYgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgzIiwgbnVsbCwgIkVtYWlsOiIsIC0xCiAgLyogSE9JU1RFRCAqLwogICk7Cn0pOwoKdmFyIF9ob2lzdGVkXzcgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgzIiwgbnVsbCwgIk5ldyBwYXNzd29yZDoiLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCnZhciBfaG9pc3RlZF84ID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMyIsIG51bGwsICJDb25maXJtIG5ldyBwYXNzd29yZDoiLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCnZhciBfaG9pc3RlZF85ID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMyIsIG51bGwsICJDdXJyZW50IHBhc3N3b3JkOiAiLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfaG9pc3RlZF8zLCBfaG9pc3RlZF80LCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAibmFtZSIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEudXNlck5hbWUgPSAkZXZlbnQ7CiAgICB9KSwKICAgIHBsYWNlaG9sZGVyOiAkb3B0aW9ucy5nZXRVc2VyLm5hbWUKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIF9ob2lzdGVkXzUpLCBbW192TW9kZWxUZXh0LCAkZGF0YS51c2VyTmFtZV1dKSwgX2hvaXN0ZWRfNiwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDUiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKCRvcHRpb25zLmdldFVzZXIuZW1haWwpLCAxCiAgLyogVEVYVCAqLwogICksIF9ob2lzdGVkXzcsIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJwYXNzd29yZCIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEubmV3UGFzc3dvcmQgPSAkZXZlbnQ7CiAgICB9KSwKICAgIHBsYWNlaG9sZGVyOiAiRW50ZXIgbmV3IHBhc3N3b3JkIgogIH0sIG51bGwsIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApLCBbW192TW9kZWxUZXh0LCAkZGF0YS5uZXdQYXNzd29yZF1dKSwgX2hvaXN0ZWRfOCwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgdHlwZTogInBhc3N3b3JkIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5jb25maXJtUGFzc3dvcmQgPSAkZXZlbnQ7CiAgICB9KSwKICAgIHBsYWNlaG9sZGVyOiAiQ29uZmlybSBuZXcgcGFzc3dvcmQiCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRkYXRhLmNvbmZpcm1QYXNzd29yZF1dKSwgX2hvaXN0ZWRfOSwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgdHlwZTogInBhc3N3b3JkIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5jdXJyZW50UGFzc3dvcmQgPSAkZXZlbnQ7CiAgICB9KSwKICAgIHBsYWNlaG9sZGVyOiAiRW50ZXIgY3VycmVudCBwYXNzd29yZCIKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJGRhdGEuY3VycmVudFBhc3N3b3JkXV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgY2xhc3M6ICJzbSIsCiAgICBvbkNsaWNrOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLnVwZGF0ZUFjY291bnQgJiYgJG9wdGlvbnMudXBkYXRlQWNjb3VudC5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgIlVwZGF0ZSBBY2NvdW50IildKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgIGNsYXNzOiAic20iLAogICAgb25DbGljazogX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5kZWxldGVBY2NvdW50ICYmICRvcHRpb25zLmRlbGV0ZUFjY291bnQuYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sICJEZWxldGUgQWNjb3VudCIpXSldKV0pOwp9"},{"version":3,"sources":["/Users/katyjiang/katy/CMPE295/frontend/src/components/Account.vue"],"names":[],"mappings":";;;;;;;;AACO,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;;sBACT,mBAAA,CAAmB,IAAnB,EAAmB,IAAnB,EAAI,YAAJ,EAAc,CAAA;AAAA;AAAd,G;;;;sBACA,mBAAA,CAAc,IAAd,EAAc,IAAd,EAAI,OAAJ,EAAS,CAAA;AAAA;AAAT,G;;;;;;sBAEA,mBAAA,CAAe,IAAf,EAAe,IAAf,EAAI,QAAJ,EAAU,CAAA;AAAA;AAAV,G;;;;sBAEA,mBAAA,CAAsB,IAAtB,EAAsB,IAAtB,EAAI,eAAJ,EAAiB,CAAA;AAAA;AAAjB,G;;;;sBAEA,mBAAA,CAA8B,IAA9B,EAA8B,IAA9B,EAAI,uBAAJ,EAAyB,CAAA;AAAA;AAAzB,G;;;;sBAEA,mBAAA,CAA2B,IAA3B,EAA2B,IAA3B,EAAI,oBAAJ,EAAsB,CAAA;AAAA;AAAtB,G;;;;uBAXJ,mBAAA,CAgBM,KAhBN,EAAA,UAAA,EAgBM,CAfJ,mBAAA,CAcM,KAdN,EAAA,UAAA,EAcM,CAbJ,UAaI,EAZJ,UAYI,E,gBAXJ,mBAAA,CAAmE,OAAnE,EAAmE;AAA5D,IAAA,IAAI,EAAC,MAAuD;;aAAvC,KAAA,CAAA,Q,GAAQ,M;MAA+B;AAA5B,IAAA,WAAW,EAAE,QAAA,CAAA,OAAA,CAAQ;AAAO,GAAnE,E,IAAA,E;;AAAA,I,UAAA,C,iBAA4B,KAAA,CAAA,Q,GAWxB,EAVJ,UAUI,EATJ,mBAAA,CAA0B,IAA1B,EAA0B,IAA1B,EAA0B,gBAAA,CAApB,QAAA,CAAA,OAAA,CAAQ,KAAY,CAA1B,EAAmB;AAAA;AAAnB,GASI,EARJ,UAQI,E,gBAPJ,mBAAA,CAAgF,OAAhF,EAAgF;AAAzE,IAAA,IAAI,EAAC,UAAoE;;aAAhD,KAAA,CAAA,W,GAAW,M;MAAqC;AAAnC,IAAA,WAAW,EAAE;AAAsB,GAAhF,E,IAAA,E;;AAAA,G,iBAAgC,KAAA,CAAA,W,GAO5B,EANJ,UAMI,E,gBALJ,mBAAA,CAAsF,OAAtF,EAAsF;AAA/E,IAAA,IAAI,EAAC,UAA0E;;aAAtD,KAAA,CAAA,e,GAAe,M;MAAuC;AAArC,IAAA,WAAW,EAAE;AAAwB,GAAtF,E,IAAA,E;;AAAA,G,iBAAgC,KAAA,CAAA,e,GAK5B,EAJJ,UAII,E,gBAHJ,mBAAA,CAAwF,OAAxF,EAAwF;AAAjF,IAAA,IAAI,EAAC,UAA4E;;aAAxD,KAAA,CAAA,e,GAAe,M;MAAyC;AAAvC,IAAA,WAAW,EAAE;AAA0B,GAAxF,E,IAAA,E;;AAAA,G,iBAAgC,KAAA,CAAA,e,GAG5B,EAFJ,mBAAA,CAA4E,KAA5E,EAA4E,IAA5E,EAA4E,CAAvE,mBAAA,CAAiE,QAAjE,EAAiE;AAAzD,IAAA,KAAK,EAAC,IAAmD;AAA7C,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,aAAA,IAAA,QAAA,CAAA,aAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAAwC,GAAjE,EAA0C,gBAA1C,CAAuE,CAA5E,CAEI,EADJ,mBAAA,CAA4E,KAA5E,EAA4E,IAA5E,EAA4E,CAAvE,mBAAA,CAAiE,QAAjE,EAAiE;AAAzD,IAAA,KAAK,EAAC,IAAmD;AAA7C,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,aAAA,IAAA,QAAA,CAAA,aAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAAwC,GAAjE,EAA0C,gBAA1C,CAAuE,CAA5E,CACI,CAdN,CAeI,CAhBN,C","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class='account-wrapper'>\n      <h1>My account</h1>\n      <h3>Name:</h3>\n      <input type=\"name\" v-model=\"userName\" :placeholder=\"getUser.name\"/>\n      <h3>Email:</h3>\n      <h5>{{getUser.email}}</h5>\n      <h3>New password:</h3>\n      <input type=\"password\" v-model=\"newPassword\" placeholder= \"Enter new password\"/>\n      <h3>Confirm new password:</h3>\n      <input type=\"password\" v-model=\"confirmPassword\" placeholder= \"Confirm new password\"/>\n      <h3>Current password: </h3>\n      <input type=\"password\" v-model=\"currentPassword\" placeholder= \"Enter current password\"/>\n      <div><button class=\"sm\" @click=\"updateAccount\">Update Account</button></div>\n      <div><button class=\"sm\" @click=\"deleteAccount\">Delete Account</button></div>           \n    </div> \n  </div>\n</template>\n\n<script>\nimport {mapGetters} from 'vuex'\nimport axios from 'axios';\n\nexport default {\n  data(){\n    \n    return{\n        newPassword: \"\",\n        confirmPassword: \"\",\n        currentPassword: \"\",\n        userName: \"\",\n        userData: null,\n\n    } },\n  computed: {\n  ...mapGetters(['user']),\n  \n    getUser(){\n      return this.user\n    },\n  },\n  methods: {\n  \n    updateAccount(){\n\n      if (this.userName === \"\"){\n        this.userName = this.getUser.name\n      }\n      if(this.newPassword === \"\" && this.confirmPassword != \"\"){\n          window.alert(\"Please enter a new password\")\n          return\n      }\n\n      if(this.newPassword != \"\" && this.confirmPassword === \"\"){\n        window.alert(\"Please confirm your new password\")\n        return\n      }\n      if(this.newPassword != this.confirmPassword){\n        window.alert(\"Confirmation doesn't match with new password\")\n        return\n      }\n\n      if (this.currentPassword === \"\"){\n        window.alert(\"Enter current password before updating\")\n        return\n      }\n\n      if (this.newPassword === \"\"){\n         this.userData = {\n          \"newName\": this.userName,\n          \"currentPassword\": this.currentPassword,\n          }\n      }\n      else{\n          this.userData = {\n          \"newName\": this.userName,\n          \"currentPassword\": this.currentPassword,\n          \"newPassword\": this.newPassword\n          }\n      }\n        axios({ method: \"PUT\", url: \"https://localhost:8000/users/\" + this.getUser.user_id, data: this.userData, headers: {\"content-type\": \"application/json\", \"token\":this.getUser.token } })\n            .then((response)=> {\n              window.alert(response.data.message)                  \n                  })\n            .catch((error) => {\n                  window.alert(error.response.data.error);\n}\n            )\n    },\n\n    deleteAccount(){\n       if(confirm(\"Do you really want to delete?\")){\n           axios({ method: \"DELETE\", url: \"https://localhost:8000/users/\" + this.getUser.user_id, headers: {\"content-type\": \"application/json\", \"token\":this.getUser.token } })\n            .then((response)=> {\n              window.alert(response.data.message)     \n              this.$store.dispatch('signOut');\n              this.$router.push('/')             \n                  \n                  })\n            .catch((error) => {\n                  window.alert(error.response.data.error);\n}\n            )\n    }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.account-wrapper {\n    position: relative;\n    margin-top: 100px;\n    input {\n      padding: 3px;\n      width: 200px;\n      height: 25px;\n      color: rgba(0,0,0,.70);\n      border: 1px solid rgba(0,0,0,.12);\n      transition: .15s all ease-in-out;\n      background: white;\n        margin:0.1rem;\n      &::placeholder{\n        font-size: 11px;\n        color: rgba(10, 10, 10, 0.5);\n        font-weight: 600;\n        font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n      }\n    }\n   \n  }\n\n\n  .sm{\n    position: relative;\n    top:10px;\n    border: 0;\n    cursor: pointer;\n    box-sizing: border-box;\n    border-radius: 3px;\n    color: white;\n    background-color: rgb(124, 168, 107);\n    font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n}\n</style>"],"sourceRoot":""}]}