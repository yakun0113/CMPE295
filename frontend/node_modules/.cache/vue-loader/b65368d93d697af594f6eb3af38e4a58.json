{"remainingRequest":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/katyjiang/katy/CMPE295/frontend/src/components/Account.vue?vue&type=style&index=0&id=6d0444a6&lang=scss&scoped=true","dependencies":[{"path":"/Users/katyjiang/katy/CMPE295/frontend/src/components/Account.vue","mtime":1636672427993},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1632981160588},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/katyjiang/katy/CMPE295/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1632981160587}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgouYWNjb3VudC13cmFwcGVyIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG1hcmdpbi10b3A6IDEwMHB4OwogICAgaW5wdXQgewogICAgICBwYWRkaW5nOiAzcHg7CiAgICAgIHdpZHRoOiAyMDBweDsKICAgICAgaGVpZ2h0OiAyNXB4OwogICAgICBjb2xvcjogcmdiYSgwLDAsMCwuNzApOwogICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsMCwwLC4xMik7CiAgICAgIHRyYW5zaXRpb246IC4xNXMgYWxsIGVhc2UtaW4tb3V0OwogICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgICAgICBtYXJnaW46MC4xcmVtOwogICAgICAmOjpwbGFjZWhvbGRlcnsKICAgICAgICBmb250LXNpemU6IDExcHg7CiAgICAgICAgY29sb3I6IHJnYmEoMTAsIDEwLCAxMCwgMC41KTsKICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgIGZvbnQtZmFtaWx5OidUcmVidWNoZXQgTVMnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsICdMdWNpZGEgR3JhbmRlJywgJ0x1Y2lkYSBTYW5zJywgQXJpYWwsIHNhbnMtc2VyaWY7CiAgICAgIH0KICAgIH0KICAgCiAgfQoKCiAgLnNtewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgdG9wOjEwcHg7CiAgICBib3JkZXI6IDA7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgYm9yZGVyLXJhZGl1czogM3B4OwogICAgY29sb3I6IHdoaXRlOwogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDEyNCwgMTY4LCAxMDcpOwogICAgZm9udC1mYW1pbHk6J1RyZWJ1Y2hldCBNUycsICdMdWNpZGEgU2FucyBVbmljb2RlJywgJ0x1Y2lkYSBHcmFuZGUnLCAnTHVjaWRhIFNhbnMnLCBBcmlhbCwgc2Fucy1zZXJpZjsKfQo="},{"version":3,"sources":["/Users/katyjiang/katy/CMPE295/frontend/src/components/Account.vue"],"names":[],"mappings":"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C,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxG","file":"/Users/katyjiang/katy/CMPE295/frontend/src/components/Account.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class='account-wrapper'>\n      <h1>My account</h1>\n      <h3>Name:</h3>\n      <input type=\"name\" v-model=\"userName\" :placeholder=\"getUser.name\"/>\n      <h3>Email:</h3>\n      <h5>{{getUser.email}}</h5>\n      <h3>New password:</h3>\n      <input type=\"password\" v-model=\"newPassword\" placeholder= \"Enter new password\"/>\n      <h3>Confirm new password:</h3>\n      <input type=\"password\" v-model=\"confirmPassword\" placeholder= \"Confirm new password\"/>\n      <h3>Current password: </h3>\n      <input type=\"password\" v-model=\"currentPassword\" placeholder= \"Enter current password\"/>\n      <div><button class=\"sm\" @click=\"updateAccount\">Update Account</button></div>\n      <div><button class=\"sm\" @click=\"deleteAccount\">Delete Account</button></div>           \n    </div> \n  </div>\n</template>\n\n<script>\nimport {mapGetters} from 'vuex'\nimport axios from 'axios';\n\nexport default {\n  data(){\n    \n    return{\n        newPassword: \"\",\n        confirmPassword: \"\",\n        currentPassword: \"\",\n        userName: \"\",\n        userData: null,\n\n    } },\n  computed: {\n  ...mapGetters(['user']),\n  \n    getUser(){\n      return this.user\n    },\n  },\n  methods: {\n  \n    updateAccount(){\n\n      if (this.userName === \"\"){\n        this.userName = this.getUser.name\n      }\n      if(this.newPassword === \"\" && this.confirmPassword != \"\"){\n          window.alert(\"Please enter a new password\")\n          return\n      }\n\n      if(this.newPassword != \"\" && this.confirmPassword === \"\"){\n        window.alert(\"Please confirm your new password\")\n        return\n      }\n      if(this.newPassword != this.confirmPassword){\n        window.alert(\"Confirmation doesn't match with new password\")\n        return\n      }\n\n      if (this.currentPassword === \"\"){\n        window.alert(\"Enter current password before updating\")\n        return\n      }\n\n      if (this.newPassword === \"\"){\n         this.userData = {\n          \"newName\": this.userName,\n          \"currentPassword\": this.currentPassword,\n          }\n      }\n      else{\n          this.userData = {\n          \"newName\": this.userName,\n          \"currentPassword\": this.currentPassword,\n          \"newPassword\": this.newPassword\n          }\n      }\n        axios({ method: \"PUT\", url: \"https://localhost:8000/users/\" + this.getUser.user_id, data: this.userData, headers: {\"content-type\": \"application/json\", \"token\":this.getUser.token } })\n            .then((response)=> {\n              window.alert(response.data.message)                  \n                  })\n            .catch((error) => {\n                  window.alert(error.response.data.error);\n}\n            )\n    },\n\n    deleteAccount(){\n       if(confirm(\"Do you really want to delete?\")){\n           axios({ method: \"DELETE\", url: \"https://localhost:8000/users/\" + this.getUser.user_id, headers: {\"content-type\": \"application/json\", \"token\":this.getUser.token } })\n            .then((response)=> {\n              window.alert(response.data.message)     \n              this.$store.dispatch('signOut');\n              this.$router.push('/')             \n                  \n                  })\n            .catch((error) => {\n                  window.alert(error.response.data.error);\n}\n            )\n    }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.account-wrapper {\n    position: relative;\n    margin-top: 100px;\n    input {\n      padding: 3px;\n      width: 200px;\n      height: 25px;\n      color: rgba(0,0,0,.70);\n      border: 1px solid rgba(0,0,0,.12);\n      transition: .15s all ease-in-out;\n      background: white;\n        margin:0.1rem;\n      &::placeholder{\n        font-size: 11px;\n        color: rgba(10, 10, 10, 0.5);\n        font-weight: 600;\n        font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n      }\n    }\n   \n  }\n\n\n  .sm{\n    position: relative;\n    top:10px;\n    border: 0;\n    cursor: pointer;\n    box-sizing: border-box;\n    border-radius: 3px;\n    color: white;\n    background-color: rgb(124, 168, 107);\n    font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n}\n</style>"]}]}